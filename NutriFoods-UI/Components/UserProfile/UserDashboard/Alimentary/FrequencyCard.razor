@using Fluxor
@using NutriFoods_UI.Data.Store.LatestConsultation
@inject IState<LatestConsultationState> LatestConsultation

@{
    var frequency = LatestConsultation.Value.LatestConsultation.NutritionalAnamnesis!.FoodConsumptions ?? [];
}
<MudPaper Class="pa-6 d-flex flex-column gap-4"
          Elevation="0"
          Style="height: auto; border-radius: 10px ;">
    
    <section id="title-section" class="px-2">
        <div class="d-flex align-center justify-content-between flex-row-1 ">
            <h5 class="pt-2">Frecuencia de consumo</h5>
            <MudButton
                Size="Size.Small"
                Color="Color.Primary"
                StartIcon="@Icons.Material.Outlined.AddCircle"
                Variant="Variant.Text"
                Style="text-transform: none; font-family: 'Plus Jakarta Sans', sans-serif; font-weight: 700;">
                Añadir un alimento
            </MudButton>
        </div>
    </section>
    
    @if (LatestConsultation.Value.LatestConsultation.NutritionalAnamnesis != null)
    {
        <div id="table-section" class="px-2">
            <FrequencyList></FrequencyList>
        </div>

        <div class="d-flex justify-content-between">
            <MudButton
                Size="Size.Small"
                Color="Color.Primary"
                EndIcon="@Icons.Material.Filled.ArrowForward"
                Variant="Variant.Text"
                Style="font-size:1em; 
                text-transform: none; 
                font-family: 'Plus Jakarta Sans', sans-serif; 
                font-weight: 700;">
                Ver lista completa (@frequency.Count)
            </MudButton>
        </div>
    }
    
</MudPaper>


@code {
}